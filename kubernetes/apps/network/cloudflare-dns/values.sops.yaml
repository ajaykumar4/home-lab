fullnameOverride: cloudflare-dns
provider: cloudflare
env:
  - name: CF_API_TOKEN
    valueFrom:
      secretKeyRef:
        name: cloudflare-dns-secret
        key: api-token
extraArgs:
  - --cloudflare-dns-records-per-page=1000
  - --cloudflare-proxied
  - --crd-source-apiversion=externaldns.k8s.io/v1alpha1
  - --crd-source-kind=DNSEndpoint
  - --gateway-name=external
triggerLoopOnEvent: true
policy: sync
sources:
  - crd
  - gateway-httproute
txtPrefix: k8s.
txtOwnerId: default
domainFilters:
  - aknuk.dev
serviceMonitor:
  enabled: true
podAnnotations:
  secret.reloader.stakater.com/reload: cloudflare-dns-secret
sops:
  age:
    - recipient: age1cg2mpusgf59fckt9j68saxexepahmkxktv0v2fs48dm76w6xkc6sla4xdx
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBjZlJFNHFKNDAzelJhYXg2
        enZGOWpQNitOdHRGWWJXZk9QT29jOG5RY0MwCnRBUy9TQ0k3YUd3UWE4Qjc4TzZi
        ZTkvMUtzSHpDNzJFeDNDajZFZHY5RmMKLS0tIFIxS25PdHNzRVlEbkV0TDFsamh6
        SklaTzhXaEQzY3BCTmpFZUNFd0lPODgKWYudfmlUCWoe1SYjhx8uy+ixRKG0Yrvm
        zGQpi9NmXczXaa3UuvTE/M7esOpM7DiJV0OSB0UIyQl2xEdMjT4UUQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-06-17T14:39:56Z"
  mac: ENC[AES256_GCM,data:wOhqnwJwnUpJzAR/OxU0i5Wh8GOkASbhyNPlzBaPnQwGFDYGtgs1zjFh9T3/WORdaDUZQkPoQqzkKI8x+5bvG8QYGWICwvhyPRNA5sUyi0IRcj9vhuVq+cHis5DBiJPALwzcEsv7iFiAJluXxo8tO/kXB5gbv1/xvxt/n5Y5WEQ=,iv:Ut40ivVhRyOAc4zDSNqWjJmoDZYmFXJViNLpBKvm4C4=,tag:dUlK/JjypFW0daUBxAbn6w==,type:str]
  encrypted_regex: ^(data|stringData)$
  mac_only_encrypted: true
  version: 3.10.2
