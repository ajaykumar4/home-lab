# yaml-language-server: $schema=https://raw.githubusercontent.com/datreeio/CRDs-catalog/main/cert-manager.io/clusterissuer_v1.json
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt-production
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      name: letsencrypt-production
    solvers:
      - dns01:
          cloudflare:
            apiTokenSecretRef:
              name: cert-manager-secret
              key: api-token
        selector:
          dnsZones:
            - aknuk.dev
sops:
  age:
    - recipient: age1hxqvf8yac5g5647gzsa95luvza94853l7mj7hle4u4933dyu3d3saxa80h
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBSmZYRThjZFU3VlJYZmMv
        NXJOcVFBQWozZy9KVU92ZVJodkdFMmovaGlJCjJGYm9mbUl4UDFLUG9iZDZidWsz
        b3lHc3BXRHVtZlIwVFhrbUxtOE9LQ1UKLS0tIE5KRTBXMmJBZEJNTXJvb000bWll
        OWQ5QklSdDMyMy9tR1RVYUxDc0gxQzQKth/xE+CoxiSTqw45v/MydM5huHFaXhaX
        N2Q6ktTR1Xl3titSjB0SyCvxy5Hnnkfd3bhFdj3mDCG/sjRdJmarEg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-05-30T19:14:42Z"
  mac: ENC[AES256_GCM,data:93Ayww4JXT0tgn2m02bWQzNRsDiAam/IuMnaKptUOmuHliiEOwWlJ9aFngZIkeB1I7jFU9Kd+582ZYwXU2haDSZVfXwtDh5ZLWZ9C/ZQiEF7Y7BPUEoxHC9MDe+wXFC6F958KZHiZCGGMuTNlKSqsq06dWMiy0KiRt9CcRPH+2A=,iv:Rmdaudbx2Ai3jC6zg9t92E6ojHsuBRvLge1RZ10Wh/4=,tag:tJTsA1IacPSu9oFzid3YCQ==,type:str]
  encrypted_regex: ^(data|stringData)$
  mac_only_encrypted: true
  version: 3.10.2
